<div class="bg-white dark:bg-gray-800 p-4 rounded shadow">
  <h2 class="text-xl font-semibold mb-3">Ventas</h2>

  <table class="w-full table-auto mb-4">
    <thead>
      <tr class="text-left">
        <th class="p-2">ID</th>
        <th class="p-2">Producto</th>
        <th class="p-2">Cantidad</th>
        <th class="p-2">Precio</th>
        <th class="p-2">Fecha</th>
      </tr>
    </thead>
    <tbody>
      @for (v of ventasSvc.ventasSig(); track v.id) {
        <tr>
          <td class="p-2">{{v.id}}</td>
          <td class="p-2">{{v.productoId}}</td>
          <td class="p-2">{{v.cantidad}}</td>
          <td class="p-2">{{v.precioUnitario}}</td>
          <td class="p-2">{{v.fecha}}</td>
        </tr>
      }
    </tbody>
  </table>

  <form [formGroup]="form" (ngSubmit)="add()" class="grid grid-cols-1 md:grid-cols-4 gap-3">
    <select class="border rounded px-2 py-1" formControlName="productoId">
      @for (p of productosSvc.productosSig(); track p.id) {
        <option [value]="p.id">{{ p.nombre }} (stock: {{ p.stock }})</option>
      }
    </select>

    <input class="border rounded px-2 py-1" type="number" placeholder="Cantidad" formControlName="cantidad"/>
    <input class="border rounded px-2 py-1" type="number" placeholder="Precio unitario" formControlName="precioUnitario"/>

    <select class="border rounded px-2 py-1" formControlName="clienteId">
      <option [value]="null">Sin cliente</option>
      @for (c of clientesSig(); track c.id) {
        <option [value]="c.id">{{ c.nombre }}</option>
      }
    </select>

    <button class="bg-brand-700 text-white px-3 py-2 rounded md:col-span-4" type="submit" [disabled]="form.invalid">
      Registrar venta
    </button>
  </form>
</div>
