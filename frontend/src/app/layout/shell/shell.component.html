<header class="bg-[#090c7a] shadow text-[104%]">
  <div
    class="container mx-auto max-w-7xl px-4 flex items-center justify-between py-4 flex-wrap lg:flex-nowrap"
  >
    <!-- Logo -->
    <a routerLink="/" class="font-bold text-white text-lg">
      Hall of T-Shirts CRM
    </a>

    <!-- Botón Hamburguesa (visible hasta 1023px) -->
    <button
      class="lg:hidden text-white text-2xl"
      onclick="document.getElementById('mobileMenu').classList.toggle('hidden')"
    >
      ☰
    </button>

    <!-- Menú Desktop (pantallas ≥1024px) -->
    <nav class="hidden lg:flex gap-4 items-center text-white">
      <a routerLink="/dashboard" class="hover:text-gray-300">Dashboard</a>
      <a routerLink="/clientes" class="hover:text-gray-300">Clientes</a>
      <a routerLink="/interacciones" class="hover:text-gray-300"
        >Interacciones</a
      >
      <a routerLink="/productos" class="hover:text-gray-300">Productos</a>
      <a routerLink="/proveedores" class="hover:text-gray-300">Proveedores</a>
      <a routerLink="/ventas" class="hover:text-gray-300">Ventas</a>
      <a routerLink="/compras" class="hover:text-gray-300">Compras</a>

      <button (click)="toggleIdioma()" class="idioma-btn px-3 py-1 rounded">
        {{ idiomaDestino === "es" ? "English" : "Español" }}
      </button>

      <button
        (click)="toggleDark()"
        [disabled]="disabled"
        class="relative w-[60px] h-[32px] rounded-full transition-colors duration-300 ease-in-out
              bg-gray-300 dark:bg-gray-700 border border-gray-500 dark:border-white flex items-center"
      >
        <span
          class="absolute left-[2px] w-[28px] h-[28px] rounded-full flex items-center justify-center
                text-lg transition-all duration-300 ease-in-out
                bg-white dark:bg-[#1d2022] text-black dark:text-white"
          [ngStyle]="{ transform: isDark ? 'translateX(28px)' : 'translateX(0)' }"
        >
          @if (!isDark) {
            ☾
          } @else {
            ☼
          }
        </span>
      </button>

    </nav>

    <!-- Usuario Desktop -->
    @if (auth.userSig(); as u) {
      <div class="hidden lg:flex items-center gap-3">
        <span class="text-sm text-white">Hola, {{ u.username }}</span>
        <button class="logout-btn px-3 py-1 rounded" (click)="logout()">
          Logout ➜
        </button>
      </div>
    }

    <!-- Menú Móvil (visible hasta 1023px) -->
    <div id="mobileMenu" class="hidden w-full lg:hidden mt-4">
      <nav class="flex flex-col gap-2 text-white">
        <a routerLink="/dashboard" class="hover:text-gray-300">Dashboard</a>
        <a routerLink="/clientes" class="hover:text-gray-300">Clientes</a>
        <a routerLink="/interacciones" class="hover:text-gray-300"
          >Interacciones</a
        >
        <a routerLink="/productos" class="hover:text-gray-300">Productos</a>
        <a routerLink="/proveedores" class="hover:text-gray-300">Proveedores</a>
        <a routerLink="/ventas" class="hover:text-gray-300">Ventas</a>
        <a routerLink="/compras" class="hover:text-gray-300">Compras</a>

        <button
          (click)="toggleIdioma()"
          class="idioma-btn px-3 py-1 rounded w-fit"
        >
          {{ idiomaDestino === "es" ? "English" : "Español" }}
        </button>

        <button
          (click)="toggleDark()"
          [disabled]="disabled"
          class="relative w-[60px] h-[32px] rounded-full transition-colors duration-300 ease-in-out
                bg-gray-300 dark:bg-gray-700 border border-gray-500 dark:border-white flex items-center"
        >
          <span
            class="absolute left-[2px] w-[28px] h-[28px] rounded-full flex items-center justify-center
                  text-lg transition-all duration-300 ease-in-out
                  bg-white dark:bg-[#1d2022] text-black dark:text-white"
            [ngStyle]="{ transform: isDark ? 'translateX(28px)' : 'translateX(0)' }"
          >
            @if (!isDark) {
              ☾
            } @else {
              ☼
            }
          </span>
        </button>

      </nav>

      <!-- Usuario Móvil -->
      @if (auth.userSig(); as u) {
        <div class="flex flex-col gap-2 mt-4">
          <span class="text-sm text-white">Hola, {{ u.username }}</span>
          <button class="logout-btn px-3 py-1 rounded w-fit" (click)="logout()">
            Logout ➜
          </button>
        </div>
      }
    </div>
  </div>
</header>

<main class="container mx-auto max-w-7xl px-4 py-6 text-[104%]">
  <router-outlet />
</main>
